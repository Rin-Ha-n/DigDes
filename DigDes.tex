% ========================================= TEMPLATE INFO =========================================
%
% Author:       Rin-Ha-n
% Version:      1.0
% Last updated: 2025-05-20
% Brief:        A cheatSheet for the module DigDes (Digital Design) at OST FS25

% ================================================================================================
\documentclass[a4paper,landscape,8pt]{extarticle}
% Font size:    8pt
% Paper size:   A4
% style:        twoside (needed, so odd and even pages have different margins)
% orientation:  portrait. (use 'landscape' for landscape orientation)



% ========================================= DOCUMENT INFO =========================================
\def\title{CheatSheet Digital Design}   	     		% title
\def\shorttitle{DigDes}                              	% short title (displayed as PDF title)
\def\dozent{Prof. Dr. Paul Zbinden}                     % lecturer
\def\semester{Fs 2025}								    % semester
\def\author{Ricca Aaron}                           	    % author(s)
\def\repo{https://github.com/Rin-Ha-n/DigDes}       	% repository link
\def\version{1.0\today}                              	% version
\def\pagelimit{4}                                   	% page limit -> causes pages after limit to be red
\def\titleoption{ultra compact}                         % options: ultra compact, compact, normal
\def\enableToC{false}                                   % enable table of contents (true/false)        

\def\sectioncolor{green}                                % section color   (Used green because as shown in psycology studies it calms you) 
\def\subsectioncolor{green}                             % subsection color
\def\subsubsectioncolor{green}                          % subsubsection color

% ================================= PACKAGES, SETUP AND COMMANDS ==================================
\input{preamble.tex} % Used to include minimum required packages and settings

% ---------------------------------- Code Block word Color ----------------------------------------------
\lstdefinelanguage{VHDL}{
  morekeywords={architecture,begin,block,case,component,configuration,else,elsif,end,entity,for,function,generate,if,is,loop,package,port,process,return,signal,then,type,use,variable,wait,when,while,with,library,assert,report,after,until,others,all,constant,procedure,of,downto,to,in,out,inout,buffer,linkage,guarded,open,range,record,select,transport,reject,units,group,file,access,shared,new,next,null,exit,abs,not,and,or,xor,nand,nor,sll,srl,sla,sra,rol,ror},
  sensitive=true,
  morecomment=[l]--,
  morestring=[b]",
  morestring=[b]'
}

\lstset{
  basicstyle=\ttfamily\footnotesize,
  keywordstyle=\color{violet}\bfseries,
  commentstyle=\color{OSTDarkGreen}\itshape,
  stringstyle=\color{orange},
  numbers=left,
  numberstyle=\tiny\color{gray},
  stepnumber=1,
  numbersep=2pt,         % no space between numbers and code
  xleftmargin=1.5em,     % indent code block to keep numbers inside column
  framexleftmargin=0pt,
  breaklines=true,
  showstringspaces=false,
  tabsize=2,
  aboveskip=0pt,
  belowskip=0pt,
  resetmargins=true
}

% ---------------------------------- Code Block lines number Color ----------------------------------------------
\usepackage{xparse}
\usepackage{xstring}
\usepackage{etoolbox}
\makeatletter
\NewDocumentCommand{\highlightlines}{mmm}{%
  \StrCut{#1}{,}{\FirstLine}{\RestLines}%
  \def\@tempa{#1}%
  \edef\@tempb{\number\value{lstnumber}}%
  \def\found{0}%
  \renewcommand{\do}[1]{%
    \ifnum\pdfstrcmp{\@tempb}{##1}=0
      \def\found{1}%
    \fi
  }%
  \docsvlist{#1}%
  \ifnum\found=1
    \begingroup
      \setlength{\fboxsep}{0pt}%
      \colorbox{#2}{\strut #3}%
    \endgroup
  \else
    #3%
  \fi
}
\makeatother

% =========================================== DOCUMENT ============================================
\begin{document}
    \begin{multicols}{3}
        \raggedcolumns
        \cheatsheettitle
        \input{section/Introduzione.tex}
        \input{section/ProgrammazioneVHDL.tex}
        \input{section/StateMachine.tex}
    \end{multicols}
\end{document}

% TODO:
% rimuovere tabs tra linee numerate e il codice
% aggiungiere comando per le linee colorate in modo che posso colorarne diverse con colori diversi (cheatsheettemplate)
% aggiungere al comando titolo animegirl ganbatteneeee!! (cheatsheettemplate)